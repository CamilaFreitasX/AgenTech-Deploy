# ğŸ¤– Agente Inteligente para AnÃ¡lise de Notas Fiscais

> **AnÃ¡lise de dados de notas fiscais usando IA conversacional com Google Gemini**

Uma aplicaÃ§Ã£o avanÃ§ada que permite fazer consultas em linguagem natural sobre arquivos CSV de notas fiscais, utilizando **Google Gemini API** e **LangChain** para processamento inteligente de dados.

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red.svg)
![Google Gemini](https://img.shields.io/badge/Google-Gemini%20API-green.svg)
![LangChain](https://img.shields.io/badge/LangChain-0.1+-yellow.svg)

## ğŸŒŸ CaracterÃ­sticas Principais

- âœ… **Interface Web Intuitiva** com Streamlit
- âœ… **Google Gemini API** para processamento de linguagem natural
- âœ… **1.5 bilhÃ£o de tokens gratuitos por dia**
- âœ… **DescompactaÃ§Ã£o automÃ¡tica** de arquivos ZIP
- âœ… **IdentificaÃ§Ã£o automÃ¡tica** de tipos de arquivo (cabeÃ§alho/itens)
- âœ… **Consultas inteligentes** usando agentes LangChain
- âœ… **Respostas em portuguÃªs brasileiro**
- âœ… **ValidaÃ§Ã£o de dados** integrada
- âœ… **Dados de exemplo** para teste imediato
- âœ… **Suporte a mÃºltiplos CSVs** simultaneamente

## ğŸš€ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

### PrÃ©-requisitos
- Python 3.8 ou superior
- Conta Google (para API Key gratuita)
- ConexÃ£o com internet

### MÃ©todo 1: InstalaÃ§Ã£o AutomÃ¡tica (Recomendado)

```bash
# Execute o script de instalaÃ§Ã£o
python install_google.py

Trae

O usuÃ¡rio quer que eu coloque o detalhamento completo no README. Vou atualizar o arquivo README.md com todas as informaÃ§Ãµes detalhadas sobre a aplicaÃ§Ã£o.

README.md :( 2 - 100 )

Perfeito! Vou criar um README.md completo e detalhado com todas as informaÃ§Ãµes sobre a aplicaÃ§Ã£o. Aqui estÃ¡ o conteÃºdo atualizado:

```
#Â ğŸ¤–Â AgenteÂ InteligenteÂ paraÂ AnÃ¡liseÂ deÂ NotasÂ Fiscais

>Â **AnÃ¡liseÂ deÂ dadosÂ deÂ notasÂ fiscaisÂ usandoÂ IAÂ 
conversacionalÂ comÂ GoogleÂ Gemini**

UmaÂ aplicaÃ§Ã£oÂ avanÃ§adaÂ queÂ permiteÂ fazerÂ consultasÂ emÂ 
linguagemÂ naturalÂ sobreÂ arquivosÂ CSVÂ deÂ notasÂ fiscais,Â 
utilizandoÂ **GoogleÂ GeminiÂ API**Â eÂ **LangChain**Â paraÂ 
processamentoÂ inteligenteÂ deÂ dados.

![Python](https://img.shields.io/badge/Python-3.8+-blue.
svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28
+-red.svg)
![GoogleÂ Gemini](https://img.shields.io/badge/
Google-Gemini%20API-green.svg)
![LangChain](https://img.shields.io/badge/LangChain-0.1
+-yellow.svg)

##Â ğŸŒŸÂ CaracterÃ­sticasÂ Principais

-Â âœ…Â **InterfaceÂ WebÂ Intuitiva**Â comÂ Streamlit
-Â âœ…Â **GoogleÂ GeminiÂ API**Â paraÂ processamentoÂ deÂ linguagemÂ 
natural
-Â âœ…Â **1.5Â bilhÃ£oÂ deÂ tokensÂ gratuitosÂ porÂ dia**
-Â âœ…Â **DescompactaÃ§Ã£oÂ automÃ¡tica**Â deÂ arquivosÂ ZIP
-Â âœ…Â **IdentificaÃ§Ã£oÂ automÃ¡tica**Â deÂ tiposÂ deÂ arquivoÂ 
(cabeÃ§alho/itens)
-Â âœ…Â **ConsultasÂ inteligentes**Â usandoÂ agentesÂ LangChain
-Â âœ…Â **RespostasÂ emÂ portuguÃªsÂ brasileiro**
-Â âœ…Â **ValidaÃ§Ã£oÂ deÂ dados**Â integrada
-Â âœ…Â **DadosÂ deÂ exemplo**Â paraÂ testeÂ imediato
-Â âœ…Â **SuporteÂ aÂ mÃºltiplosÂ CSVs**Â simultaneamente

##Â ğŸš€Â InstalaÃ§Ã£oÂ eÂ ConfiguraÃ§Ã£o

###Â PrÃ©-requisitos
-Â PythonÂ 3.8Â ouÂ superior
-Â ContaÂ GoogleÂ (paraÂ APIÂ KeyÂ gratuita)
-Â ConexÃ£oÂ comÂ internet

###Â MÃ©todoÂ 1:Â InstalaÃ§Ã£oÂ AutomÃ¡ticaÂ (Recomendado)

```bash
#Â ExecuteÂ oÂ scriptÂ deÂ instalaÃ§Ã£o
pythonÂ install_google.py
```
O script irÃ¡:

1. Verificar se o Python estÃ¡ instalado
2. Instalar automaticamente todas as dependÃªncias
3. Configurar o ambiente virtual (opcional)
4. Orientar sobre a configuraÃ§Ã£o da API Key
### MÃ©todo 2: InstalaÃ§Ã£o Manual
```
#Â 1.Â CloneÂ ouÂ baixeÂ oÂ projeto
#Â 2.Â InstaleÂ asÂ dependÃªncias
pipÂ installÂ -rÂ requirements_google.txt

#Â 3.Â ConfigureÂ aÂ APIÂ KeyÂ (vejaÂ seÃ§Ã£oÂ abaixo)
#Â 4.Â ExecuteÂ aÂ aplicaÃ§Ã£o
streamlitÂ runÂ main_google.py
```
## ğŸ”’ SeguranÃ§a e ConfiguraÃ§Ã£o

### âš ï¸ IMPORTANTE: ConfiguraÃ§Ã£o da API Key

**NUNCA** compartilhe sua Google API Key publicamente. Este repositÃ³rio estÃ¡ configurado para proteger informaÃ§Ãµes sensÃ­veis:

1. **Arquivo .env**: ContÃ©m sua API Key (ignorado pelo Git)
2. **Arquivo .env.example**: Template para configuraÃ§Ã£o

### ConfiguraÃ§Ã£o Inicial

```bash
# 1. Clone o repositÃ³rio
git clone https://github.com/seu-usuario/AgenTech.git
cd AgenTech

# 2. Copie o arquivo de exemplo
copy .env.example .env

# 3. Edite o .env e adicione sua API Key
# GOOGLE_API_KEY=sua_api_key_aqui

# 4. Instale as dependÃªncias
pip install -r requirements_google.txt

# 5. Execute a aplicaÃ§Ã£o
streamlit run main_google.py
```
O script irÃ¡:

1. Verificar se o Python estÃ¡ instalado
2. Instalar automaticamente todas as dependÃªncias
3. Configurar o ambiente virtual (opcional)
4. Orientar sobre a configuraÃ§Ã£o da API Key
### MÃ©todo 2: InstalaÃ§Ã£o Manual
```
#Â 1.Â CloneÂ ouÂ baixeÂ oÂ projeto
#Â 2.Â InstaleÂ asÂ dependÃªncias
pipÂ installÂ -rÂ requirements_google.txt

#Â 3.Â ConfigureÂ aÂ APIÂ KeyÂ (vejaÂ seÃ§Ã£oÂ abaixo)
#Â 4.Â ExecuteÂ aÂ aplicaÃ§Ã£o
streamlitÂ runÂ main_google.py
```
### ğŸ”‘ ConfiguraÃ§Ã£o da Google API Key Obter API Key (GRATUITA)
1. Acesse Google AI Studio
2. FaÃ§a login com sua conta Google
3. Clique em "Create API Key"
4. Copie a chave gerada Configurar no Sistema
OpÃ§Ã£o 1: Arquivo .env (Recomendado)

```
#Â CrieÂ umÂ arquivoÂ .envÂ naÂ pastaÂ doÂ projeto
echoÂ GOOGLE_API_KEY=sua_api_key_aquiÂ >Â .env
```
OpÃ§Ã£o 2: VariÃ¡vel de Ambiente

```
#Â Windows
setÂ GOOGLE_API_KEY=sua_api_key_aqui

#Â Linux/Mac
exportÂ GOOGLE_API_KEY=sua_api_key_aqui
```
OpÃ§Ã£o 3: Interface da AplicaÃ§Ã£o

- A aplicaÃ§Ã£o permite inserir a API Key diretamente na interface web
## ğŸ¯ Como Usar
### 1. Executar a AplicaÃ§Ã£o
```
streamlitÂ runÂ main_google.py
```
A aplicaÃ§Ã£o abrirÃ¡ automaticamente no navegador em http://localhost:8501

### 2. Configurar API Key
- Se nÃ£o configurou via arquivo .env, insira sua API Key na barra lateral
- A chave serÃ¡ validada automaticamente
### 3. Carregar Dados OpÃ§Ã£o A: Usar Dados de Exemplo
- Clique em "Usar dados de exemplo" para carregar dados de demonstraÃ§Ã£o
- Ideal para testar a aplicaÃ§Ã£o imediatamente OpÃ§Ã£o B: Upload de Arquivo ZIP
- FaÃ§a upload de um arquivo ZIP contendo seus CSVs
- A aplicaÃ§Ã£o descompacta e identifica automaticamente os arquivos
- Suporta mÃºltiplos CSVs de cabeÃ§alho e itens
### 4. Fazer Consultas Exemplos de Perguntas
AnÃ¡lises BÃ¡sicas:

- "Qual o valor total das notas fiscais?"
- "Quantas notas fiscais foram emitidas?"
- "Qual a mÃ©dia de valor por nota?"
AnÃ¡lises por PerÃ­odo:

- "Quais foram as vendas em janeiro de 2024?"
- "Mostre o faturamento por mÃªs"
- "Qual foi o melhor mÃªs de vendas?"
AnÃ¡lises por Cliente:

- "Quem sÃ£o os 5 maiores clientes?"
- "Qual cliente comprou mais produtos?"
- "Mostre o ranking de clientes por valor"
AnÃ¡lises por Produto:

- "Quais sÃ£o os produtos mais vendidos?"
- "Qual produto tem maior margem?"
- "Mostre a anÃ¡lise ABC dos produtos"
AnÃ¡lises AvanÃ§adas:

- "Identifique tendÃªncias de vendas"
- "FaÃ§a uma anÃ¡lise de sazonalidade"
- "Quais produtos estÃ£o em declÃ­nio?"
- "Analise a concentraÃ§Ã£o de vendas por regiÃ£o"
### 5. Interpretar Resultados
- As respostas sÃ£o geradas em portuguÃªs brasileiro
- Incluem anÃ¡lises contextuais e insights
- Podem conter tabelas, grÃ¡ficos textuais e resumos
- Detalhes tÃ©cnicos ficam ocultos por padrÃ£o (disponÃ­veis em expander)
## ğŸ“ Estrutura de Arquivos
```
project/
â”œâ”€â”€Â main_google.pyÂ Â Â Â Â Â Â Â Â Â Â Â Â Â #Â AplicaÃ§Ã£oÂ principalÂ 
Streamlit
â”œâ”€â”€Â utils_google.pyÂ Â Â Â Â Â Â Â Â Â Â Â Â #Â FunÃ§ÃµesÂ utilitÃ¡rias
â”œâ”€â”€Â requirements_google.txtÂ Â Â Â Â #Â DependÃªnciasÂ Python
â”œâ”€â”€Â install_google.pyÂ Â Â Â Â Â Â Â Â Â #Â ScriptÂ deÂ instalaÃ§Ã£oÂ 
automÃ¡tica
â”œâ”€â”€Â test_app_google.pyÂ Â Â Â Â Â Â Â Â #Â TestesÂ daÂ aplicaÃ§Ã£o
â”œâ”€â”€Â .envÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â ConfiguraÃ§ÃµesÂ (APIÂ Key)
â”œâ”€â”€Â demo-gemini-notas.zipÂ Â Â Â Â Â #Â DadosÂ deÂ exemplo
â””â”€â”€Â README.mdÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â EsteÂ arquivo
```
## ğŸ“Š Formato dos Dados
### Arquivo de CabeÃ§alho (header/cabecalho)
```
numero_nota,data_emissao,cliente,valor_total,status
001,2024-01-15,ClienteÂ A,1500.00,Paga
002,2024-01-16,ClienteÂ B,2300.50,Pendente
```
### Arquivo de Itens
```
numero_nota,produto,quantidade,valor_unitario,valor_total
001,ProdutoÂ X,2,750.00,1500.00
002,ProdutoÂ Y,1,2300.50,2300.50
```
### Campos Reconhecidos Automaticamente
CabeÃ§alho:

- NÃºmero da nota fiscal
- Data de emissÃ£o
- Cliente/DestinatÃ¡rio
- Valor total
- Status/SituaÃ§Ã£o
Itens:

- NÃºmero da nota fiscal (chave de ligaÃ§Ã£o)
- Produto/ServiÃ§o
- Quantidade
- Valor unitÃ¡rio
- Valor total do item
## âš™ï¸ ConfiguraÃ§Ã£o AvanÃ§ada
### VariÃ¡veis de Ambiente
```
#Â .env
GOOGLE_API_KEY=sua_api_key_aqui
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost
```
### Modelos DisponÃ­veis
- gemini-1.5-flash (padrÃ£o) - RÃ¡pido e eficiente
- gemini-1.5-pro - Mais preciso para anÃ¡lises complexas
- gemini-1.0-pro - VersÃ£o estÃ¡vel anterior
### PersonalizaÃ§Ã£o do Agente
O agente pode ser personalizado editando main_google.py :

```
#Â ConfiguraÃ§ÃµesÂ doÂ agente
AGENT_CONFIGÂ =Â {
Â Â Â Â 'model':Â 'gemini-1.5-flash',
Â Â Â Â 'temperature':Â 0.1,
Â Â Â Â 'language':Â 'portuguÃªsÂ brasileiro',
Â Â Â Â 'max_tokens':Â 4000
}
```
## ğŸ› ï¸ Tecnologias Utilizadas
- Streamlit - Interface web interativa
- Google Gemini API - Modelo de linguagem avanÃ§ado
- LangChain - Framework para aplicaÃ§Ãµes com LLM
- Pandas - ManipulaÃ§Ã£o de dados
- Python - Linguagem de programaÃ§Ã£o
## ğŸ”§ SoluÃ§Ã£o de Problemas
### Erro de API Key
```
Erro:Â InvalidÂ APIÂ Key
```
SoluÃ§Ã£o: Verifique se a API Key estÃ¡ correta e ativa no Google AI Studio

### Erro de DependÃªncias
```
ModuleNotFoundError:Â NoÂ moduleÂ namedÂ 'streamlit'
```
SoluÃ§Ã£o: Execute pip install -r requirements_google.txt

### Erro de Arquivo CSV
```
ErroÂ aoÂ processarÂ arquivoÂ CSV
```
SoluÃ§Ã£o: Verifique se o arquivo estÃ¡ no formato correto e nÃ£o estÃ¡ corrompido

### Performance Lenta
- Use arquivos CSV menores para testes
- Considere usar o modelo gemini-1.5-flash para respostas mais rÃ¡pidas
- Verifique sua conexÃ£o com internet
### Respostas em InglÃªs
- O sistema foi configurado para responder em portuguÃªs
- Se persistir, reinicie a aplicaÃ§Ã£o
## ğŸš€ Melhorias Futuras
- Suporte a outros formatos (Excel, JSON)
- VisualizaÃ§Ãµes grÃ¡ficas interativas
- ExportaÃ§Ã£o de relatÃ³rios
- HistÃ³rico de consultas
- API REST para integraÃ§Ã£o
- Suporte a mÃºltiplos idiomas
- Cache de respostas
- AnÃ¡lises preditivas
## ğŸ¤ Como Contribuir
1. FaÃ§a um fork do projeto
2. Crie uma branch para sua feature ( git checkout -b feature/AmazingFeature )
3. Commit suas mudanÃ§as ( git commit -m 'Add some AmazingFeature' )
4. Push para a branch ( git push origin feature/AmazingFeature )
5. Abra um Pull Request
## ğŸ“„ LicenÃ§a
Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo LICENSE para mais detalhes.

## ğŸ”— Links Ãšteis
- Google AI Studio - Obter API Key
- DocumentaÃ§Ã£o Gemini - DocumentaÃ§Ã£o oficial
- LangChain Docs - DocumentaÃ§Ã£o LangChain
- Streamlit Docs - DocumentaÃ§Ã£o Streamlit
## âš ï¸ Avisos Importantes
- Gratuidade: A Google oferece 1.5 bilhÃ£o de tokens gratuitos por dia
- Privacidade: Seus dados sÃ£o processados localmente, apenas as consultas sÃ£o enviadas para a API
- Limites: Respeite os limites de uso da API para evitar bloqueios
- Backup: Sempre mantenha backup dos seus dados originais

Desenvolvido com â¤ï¸ para anÃ¡lise inteligente de notas fiscais
Para suporte tÃ©cnico ou dÃºvidas, abra uma issue no repositÃ³rio do projeto.